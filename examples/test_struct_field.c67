import libc as c

// Define a simple C struct layout helper
// In real use, we'd import this from a library

// Helper to read uint32 from pointer at offset
read_uint32 = (ptr, offset) -> {
    // Cast pointer to int
    addr = ptr
    // Use peek/poke or implement via inline assembly
    // For now, this is a placeholder
    0
}

// Allocate a struct (pretend it's an SDL_Event with type at offset 0)
event = c.malloc(64)

// Manually write a value to the struct
// This would normally be done by SDL_PollEvent
// For testing, we'd need actual memory manipulation

// For now, just test that field access compiles
event_type = event.type

println("Field access compiles!")

c.free(event)
