import sdl3 as sdl

width = 620
height = 387

main = {
    sdl.SDL_Init(sdl.SDL_INIT_VIDEO) or! {
        exitf("SDL_Init failed\n")
    }
    defer sdl.SDL_Quit()

    window = sdl.SDL_CreateWindow("Simple Test", width, height, 0) or! {
        exitf("Failed to create window\n")
    }
    defer sdl.SDL_DestroyWindow(window)

    renderer = sdl.SDL_CreateRenderer(window, 0) or! {
        exitf("Failed to create renderer\n")
    }
    defer sdl.SDL_DestroyRenderer(renderer)

    printf("Rendering a few frames...\n")

    counter := 0
    @ counter < 10 max 100 {
        sdl.SDL_RenderClear(renderer)
        sdl.SDL_RenderPresent(renderer)
        sdl.SDL_Delay(100)
        counter++
        printf("Frame %d\n", counter)
    }

    printf("Done!\n")
}
